{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/DELL/Desktop/TTMS_web/ttms/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      form: {\n        ShowingNum: 6,\n        ComingNum: 6,\n        ScoreRankingNum: 5,\n        BoxOfficeRankingNum: 5\n      },\n      first_page_info: {},\n      movie_info_drawer: false,\n      url: 'https://p0.pipi.cn/mmdb/25bfd69ae7a5bff0ee230fed0210646bfdde9.jpg?imageView2/1/w/160/h/220',\n      borad_list: [{\n        \"name\": \"我和我的祖国\",\n        \"pf\": 123\n      }, {\n        \"name\": \"喜羊羊与灰太狼\",\n        \"pf\": 122\n      }, {\n        \"name\": \"海绵宝宝\",\n        \"pf\": 121\n      }, {\n        \"name\": \"桃花侠大战菊花怪\",\n        \"pf\": 120\n      }],\n      borad_top: {\n        img: '',\n        name: '坏蛋联盟',\n        pf: '1271.16'\n      },\n      slideData: [{\n        id: 1,\n        img: 'https://img.alicdn.com/imgextra/i2/6000000001117/O1CN01Mn6ES81K7d5SAd6hU_!!6000000001117-0-octopus.jpg'\n      }, {\n        id: 2,\n        img: 'https://aecpm.alicdn.com/simba/img/TB1XotJXQfb_uJkSnhJSuvdDVXa.jpg'\n      }, {\n        id: 3,\n        img: 'https://aecpm.alicdn.com/simba/img/TB1JNHwKFXXXXafXVXXSutbFXXX.jpg'\n      }],\n      currentIndex: 0\n    };\n  },\n  created: function created() {\n    this.autoPlay();\n    this.get_firstPage();\n  },\n  methods: {\n    // 自动轮播，每隔 1 秒轮播一次\n    autoPlay: function autoPlay() {\n      var _this = this;\n\n      setInterval(function () {\n        _this._setIndex();\n      }, 4000);\n    },\n    // 设置当前索引\n    _setIndex: function _setIndex() {\n      this.currentIndex++;\n      if (this.currentIndex === this.slideData.length) this.currentIndex = 0;\n    },\n    gotoinfo: function gotoinfo(id) {\n      this.$router.push('/movie/' + id);\n    },\n    get_firstPage: function get_firstPage() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _yield$_this2$$http$g, res;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this2.$http.get('GetFrontPage', {\n                  params: _this2.form\n                });\n\n              case 2:\n                _yield$_this2$$http$g = _context.sent;\n                res = _yield$_this2$$http$g.data;\n\n                if (!(res.code !== 1000)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _this2.$message.error(\"获取信息失败\");\n\n                return _context.abrupt(\"return\");\n\n              case 7:\n                _this2.first_page_info = res.data;\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;EAEAA,IAFA,kBAEA;IACA;MACAC;QACAC,aADA;QAEAC,YAFA;QAGAC,kBAHA;QAIAC;MAJA,CADA;MAOAC,mBAPA;MAQAC,wBARA;MASAC,iGATA;MAUAC;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA,EAVA;MAWAC;QACAC,OADA;QAEAC,YAFA;QAGAC;MAHA,CAXA;MAgBAC,YACA;QACAC,KADA;QAEAJ;MAFA,CADA,EAKA;QACAI,KADA;QAEAJ;MAFA,CALA,EASA;QACAI,KADA;QAEAJ;MAFA,CATA,CAhBA;MA8BAK;IA9BA;EAgCA,CAnCA;EAoCAC,OApCA,qBAoCA;IACA;IACA;EACA,CAvCA;EAwCAC;IACA;IACAC,QAFA,sBAEA;MAAA;;MACAC;QACA;MACA,CAFA,EAEA,IAFA;IAGA,CANA;IAOA;IACAC,SARA,uBAQA;MACA;MACA;IACA,CAXA;IAYAC,QAZA,oBAYAP,EAZA,EAYA;MACA;IACA,CAdA;IAgBAQ,aAhBA,2BAgBA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAAC;gBAAA,EADA;;cAAA;gBAAA;gBACAC,GADA,yBACAzB,IADA;;gBAAA,MAEAyB,iBAFA;kBAAA;kBAAA;gBAAA;;gBAGA;;gBAHA;;cAAA;gBAMA;;cANA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQA;EAxBA;AAxCA","names":["data","form","ShowingNum","ComingNum","ScoreRankingNum","BoxOfficeRankingNum","first_page_info","movie_info_drawer","url","borad_list","borad_top","img","name","pf","slideData","id","currentIndex","created","methods","autoPlay","setInterval","_setIndex","gotoinfo","get_firstPage","params","res"],"sourceRoot":"src/views","sources":["FirstPage.vue"],"sourcesContent":["<template>\r\n    <el-row>\r\n        <div id=\"appaaa\">\r\n            <ul>\r\n                <li v-for=\"(item, index) in slideData\" :key=\"index\">\r\n                    <transition>\r\n                        <img class=\"imga\" :src=\"item.img\" v-if=\"index === currentIndex\" />\r\n                    </transition>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"Container\">\r\n            <div class=\"el-col1\">\r\n                <div class=\"main\">\r\n                    <span class=\"panel\">\r\n                        <div class=\"label\">\r\n                            <h1>正在热映</h1>\r\n                            <span class=\"panel-more\"><a href=\"\">全部></a></span>\r\n                        </div>\r\n                    </span>\r\n                    <div v-for=\"item in first_page_info.ShowingList.ShowingList\" :key=\"item.id\" class=\"movie\">\r\n                        <el-card :body-style=\"{ padding: '0px' }\" shadow=\"hover\">\r\n                            <img src=\"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png\"\r\n                                class=\"image\" @click=\"gotoinfo(item.id)\">\r\n                            <div style=\"padding: 14px;\">\r\n                                <span>{{ item.name }}</span>\r\n                                <div class=\"bottom clearfix\">\r\n\r\n                                    <el-button type=\"text\" class=\"button\" @click=\"gotoinfo(item.id)\">特惠购买</el-button>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"main\">\r\n                    <span class=\"panel\">\r\n                        <div class=\"label\">\r\n                            <h1>即将上映</h1>\r\n                            <span class=\"panel-more\"><a href=\"\">全部></a></span>\r\n\r\n                        </div>\r\n                    </span>\r\n                    <div v-for=\"item in first_page_info.ComingList.ComingList\" :key=\"item.id\" class=\"movie\">\r\n                        <el-card :body-style=\"{ padding: '0px' }\" shadow=\"hover\">\r\n                            <img src=\"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png\"\r\n                                class=\"image\" @click=\"movie_info_drawer = true\">\r\n                            <div style=\"padding: 14px;\">\r\n                                <span>{{ item.name }} |</span><span> 预售</span>\r\n                            </div>\r\n                        </el-card>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"el-col2\">\r\n                <div class=\"aside\">\r\n                    <div class=\"label\">\r\n                        <h1>票房最佳</h1>\r\n                        <span class=\"panel-more\"><a href=\"\">全部></a></span>\r\n                    </div>\r\n                    <div class=\"borde\">\r\n                        <div class=\"borde_top\">\r\n                            <div><img\r\n                                    src=\"https://p0.pipi.cn/mmdb/25bfd69a030c7eaf330e13fb0b08a6695f6f7.jpg?imageView2/1/w/464/h/644\"\r\n                                    alt=\"\" class=\"bored_top_img\"></div>\r\n\r\n                            <div style=\"padding-top:20px;margin-left:20px;width:60px\">\r\n                                <a class=\"borde_top_name\">{{\r\n                                        first_page_info.BoxOfficeRankingList.BoxOfficeRankingList[0].name\r\n                                }}</a><br>\r\n\r\n                            </div>\r\n                            <div style=\"padding-top: 25px;margin-left: 144px;\"><span class=\"borde_top_pf\">{{\r\n                                    first_page_info.BoxOfficeRankingList.BoxOfficeRankingList[0].box_office\r\n                            }}万</span></div>\r\n                        </div>\r\n                        <div v-for=\"(item, index) in first_page_info.BoxOfficeRankingList.BoxOfficeRankingList.slice(1, first_page_info.BoxOfficeRankingList.BoxOfficeRankingList.length)\"\r\n                            :key=\"index\" class=\"bored_item\">\r\n                            <span class=\"bored_item_span\">\r\n                                <i>{{ index + 2 }}</i>&nbsp;&nbsp;&nbsp;\r\n                                <span class=\"bored_item_name\">{{ item.name }}</span>\r\n                                <span class=\"bored_item_pf\">{{ item.box_office }}万</span>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"aside\">\r\n                    <div class=\"label\">\r\n                        <h1>TOP</h1>\r\n                        <span class=\"panel-more\"><a href=\"\">全部></a></span>\r\n                    </div>\r\n                    <div class=\"bored\" style=\"margin-top:15px\">\r\n                        <div class=\"borde_top\">\r\n                            <div><img\r\n                                    src=\"https://p0.pipi.cn/mmdb/25bfd69a030c7eaf330e13fb0b08a6695f6f7.jpg?imageView2/1/w/464/h/644\"\r\n                                    alt=\"\" class=\"bored_top_img\"></div>\r\n\r\n                            <div style=\"padding-top:20px;margin-left:20px;width:60px\">\r\n                                <a class=\"borde_top_name\">{{\r\n                                        first_page_info.ScoreRankingList.ScoreRankingList[0].name\r\n                                }}</a><br>\r\n\r\n                            </div>\r\n                            <div style=\"margin-left:170px;padding-top: 25px;\"><span class=\"borde_top_pf\">{{\r\n                                    first_page_info.ScoreRankingList.ScoreRankingList[0].pf\r\n                            }}分</span></div>\r\n                        </div>\r\n                    </div>\r\n                    <div v-for=\"(item, index) in first_page_info.ScoreRankingList.ScoreRankingList.slice(1, first_page_info.ScoreRankingList.ScoreRankingList.length)\"\r\n                        :key=\"index\" class=\"bored_item\">\r\n                        <span class=\"bored_item_span\">\r\n                            <i>{{ index + 2 }}</i>&nbsp;&nbsp;&nbsp;\r\n                            <span class=\"bored_item_name\">{{ item.name }}</span>\r\n                            <span class=\"bored_item_pf\">{{ item.pf }}分</span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n       \r\n\r\n        <el-drawer title=\"我是标题\" :visible.sync=\"movie_info_drawer\" :with-header=\"false\" size=\"80%\">\r\n            <div>\r\n                <div class=\"drawer_picture\">\r\n                    <el-image style=\"width: 432px; height: 600px\" :src=\"url\"></el-image>\r\n                </div>\r\n            </div>\r\n        </el-drawer>\r\n    </el-row>\r\n</template>\r\n<script>\r\nexport default {\r\n\r\n    data() {\r\n        return {\r\n            form: {\r\n                ShowingNum: 6,\r\n                ComingNum: 6,\r\n                ScoreRankingNum: 5,\r\n                BoxOfficeRankingNum: 5\r\n            },\r\n            first_page_info: {},\r\n            movie_info_drawer: false,\r\n            url: 'https://p0.pipi.cn/mmdb/25bfd69ae7a5bff0ee230fed0210646bfdde9.jpg?imageView2/1/w/160/h/220',\r\n            borad_list: [{ \"name\": \"我和我的祖国\", \"pf\": 123 }, { \"name\": \"喜羊羊与灰太狼\", \"pf\": 122 }, { \"name\": \"海绵宝宝\", \"pf\": 121 }, { \"name\": \"桃花侠大战菊花怪\", \"pf\": 120 }],\r\n            borad_top: {\r\n                img: '',\r\n                name: '坏蛋联盟',\r\n                pf: '1271.16'\r\n            },\r\n            slideData: [\r\n                {\r\n                    id: 1,\r\n                    img: 'https://img.alicdn.com/imgextra/i2/6000000001117/O1CN01Mn6ES81K7d5SAd6hU_!!6000000001117-0-octopus.jpg'\r\n                },\r\n                {\r\n                    id: 2,\r\n                    img: 'https://aecpm.alicdn.com/simba/img/TB1XotJXQfb_uJkSnhJSuvdDVXa.jpg'\r\n                },\r\n                {\r\n                    id: 3,\r\n                    img: 'https://aecpm.alicdn.com/simba/img/TB1JNHwKFXXXXafXVXXSutbFXXX.jpg'\r\n                }\r\n            ],\r\n            currentIndex: 0\r\n        }\r\n    },\r\n    created() {\r\n        this.autoPlay()\r\n        this.get_firstPage()\r\n    },\r\n    methods: {\r\n        // 自动轮播，每隔 1 秒轮播一次\r\n        autoPlay() {\r\n            setInterval(() => {\r\n                this._setIndex()\r\n            }, 4000)\r\n        },\r\n        // 设置当前索引\r\n        _setIndex() {\r\n            this.currentIndex++\r\n            if (this.currentIndex === this.slideData.length) this.currentIndex = 0\r\n        },\r\n        gotoinfo(id) {\r\n            this.$router.push('/movie/' + id);\r\n        },\r\n\r\n        async get_firstPage() {\r\n            const { data: res } = await this.$http.get('GetFrontPage', { params: this.form })\r\n            if (res.code !== 1000) {\r\n                this.$message.error(\"获取信息失败\")\r\n                return\r\n            }\r\n            this.first_page_info = res.data\r\n\r\n        },\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.imga {\r\n    width: 1200px;\r\n}\r\n\r\n.borde {\r\n    margin-top: 20px;\r\n}\r\n\r\n#appaaa {\r\n\r\n    >ul {\r\n        left: 50%;\r\n        transform: translate(-50%);\r\n        position: relative;\r\n        text-align: center;\r\n        width: 1200px;\r\n        height: 284px;\r\n        overflow: hidden;\r\n\r\n        img {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n        }\r\n\r\n        .v-enter-active,\r\n        .v-leave-active {\r\n            transition: transform 0.5s;\r\n        }\r\n\r\n        .v-enter {\r\n            transform: translateX(100%);\r\n        }\r\n\r\n        .v-enter-to {\r\n            transform: translateX(0);\r\n        }\r\n\r\n        .v-leave {\r\n            transform: translateX(0);\r\n        }\r\n\r\n        .v-leave-to {\r\n            transform: translateX(-100%);\r\n        }\r\n    }\r\n}\r\n\r\n.main {\r\n    margin-bottom: 40px;\r\n    background: #fff;\r\n    width: 750px;\r\n    float: left;\r\n    height: 100%;\r\n}\r\n\r\n.borde_top {\r\n    //margin-top: 20px;\r\n    margin-left: 20px;\r\n    border: #F7F7F7 solid 1px;\r\n    height: 80px;\r\n    display: flex;\r\n    padding-right: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.borde_top:hover {\r\n    background: #F7F7F7;\r\n}\r\n\r\n.bored_top_img {\r\n    height: 80px;\r\n    width: 120px;\r\n}\r\n\r\n.borde_top_name {\r\n    font-size: 20px;\r\n    margin-top: 20px;\r\n}\r\n\r\n.borde_top_pf {\r\n    color: #EF4238;\r\n    font-size: 10px;\r\n}\r\n\r\n.bored_item {\r\n    margin-left: 20px;\r\n    padding-top: 25px;\r\n    width: 380px;\r\n    height: 50px;\r\n}\r\n\r\n.bored_item:hover {\r\n    cursor: pointer;\r\n    background: #F7F7F7;\r\n}\r\n\r\n.bored_item_pf {\r\n    float: right;\r\n    color: #EF4238;\r\n    font-size: 10px;\r\n}\r\n\r\n\r\ni {\r\n    font-family: 'Courier New', Courier, monospace;\r\n    font-size: 25px;\r\n    margin-left: 0;\r\n    color: #EF4238;\r\n}\r\n\r\n.bored_item_index_name {\r\n    margin-left: 15px;\r\n    width: 200px;\r\n}\r\n\r\n.aside {\r\n    margin-bottom: 278px;\r\n    height: 508px;\r\n    background: #fff;\r\n    width: 400px;\r\n    float: left;\r\n}\r\n\r\n.el-col1 {\r\n    width: 750px;\r\n    height: 100%;\r\n\r\n    margin-top: 35px;\r\n}\r\n\r\n.el-col2 {\r\n\r\n    width: 400px;\r\n    height: 100%;\r\n    margin-top: 35px;\r\n}\r\n\r\n.el-row {\r\n\r\n    margin: 0 auto;\r\n}\r\n\r\n.panel-more {\r\n    margin-top: 18px;\r\n\r\n    a {\r\n        color: #219FFF;\r\n    }\r\n}\r\n\r\n.label {\r\n    display: flex;\r\n    //align-items: center;\r\n    justify-content: space-between;\r\n\r\n}\r\n\r\nh1 {\r\n\r\n    font-family: 'Courier New', Courier, monospace;\r\n    background-color: #fff;\r\n    font-size: 35px;\r\n    margin-top: 0;\r\n    color: #219FFF;\r\n}\r\n\r\n.Container {\r\n    //text-align: center;\r\n    margin: auto;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    width: 1200px;\r\n\r\n    h1 {\r\n        margin-left: 18px;\r\n    }\r\n}\r\n\r\n.movie {\r\n    width: 235px;\r\n    float: left;\r\n    margin-left: 15px;\r\n    margin-top: 20px;\r\n\r\n    span {\r\n        text-align: center;\r\n    }\r\n\r\n}\r\n\r\n.image {\r\n\r\n    cursor: pointer;\r\n    position: relative;\r\n}\r\n\r\n.panel {\r\n    margin-bottom: 0;\r\n}\r\n\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nul li {\r\n    list-style: none;\r\n    float: left;\r\n    width: 30px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    color: rgba(255, 255, 255, .8);\r\n    font-size: 14px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}